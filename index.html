<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AL DOGE – Asporto</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:#0f0f0f;
    color:white;
}

header{
    text-align:center;
    padding:60px 20px;
}

h1{
    font-size:38px;
    margin-bottom:10px;
}

section{
    padding:40px 20px;
    max-width:900px;
    margin:auto;
}

.item{
    display:flex;
    justify-content:space-between;
    border-bottom:1px solid #333;
    padding:15px 0;
}

button{
    background:transparent;
    border:1px solid #c9a227;
    color:#c9a227;
    padding:6px 12px;
    cursor:pointer;
}

button:hover{
    background:#c9a227;
    color:black;
}

#cartBar{
    position:fixed;
    bottom:0;
    width:100%;
    background:black;
    padding:15px;
    display:flex;
    justify-content:space-between;
    border-top:1px solid #333;
}
</style>
</head>

<body>

<header>
<h1>AL DOGE</h1>
<p>Pizzeria Forno a Legna – Asporto</p>
</header>

<section>
<h2>Panini Artigianali</h2>

<div class="item">
<span>Panino Classico – €8.50</span>
<button onclick="addToCart('Panino Classico',8.50)">Aggiungi</button>
</div>

<div class="item">
<span>Panino Vegano – €9.00</span>
<button onclick="addToCart('Panino Vegano',9.00)">Aggiungi</button>
</div>

<div class="item">
<span>Panino Senza Glutine – €10.00</span>
<button onclick="addToCart('Panino SG',10.00)">Aggiungi</button>
</div>

</section>

<section>
<h2>Pizze</h2>

<div class="item">
<span>Margherita – €6.50</span>
<button onclick="addToCart('Margherita',6.50)">Aggiungi</button>
</div>

<div class="item">
<span>Diavola – €8.50</span>
<button onclick="addToCart('Diavola',8.50)">Aggiungi</button>
</div>

</section>

<section>
<h2>Bevande</h2>

<div class="item">
<span>Coca Cola – €2.50</span>
<button onclick="addToCart('Coca Cola',2.50)">Aggiungi</button>
</div>

<div class="item">
<span>Birra Bottiglia – €4.00</span>
<button onclick="addToCart('Birra Bottiglia',4.00)">Aggiungi</button>
</div>

</section>

<div id="cartBar">
<span>Totale: € <span id="total">0.00</span></span>
<button onclick="checkout()">Procedi</button>
</div>

<script>
let cart = [];

function addToCart(name, price){
    const existing = cart.find(item => item.name === name);

    if(existing){
        existing.qty += 1;
    } else {
        cart.push({ name, price, qty: 1 });
    }

    renderCart();
}

function removeItem(index){
    cart.splice(index, 1);
    renderCart();
}

function changeQty(index, delta){
    cart[index].qty += delta;

    if(cart[index].qty <= 0){
        removeItem(index);
        return;
    }

    renderCart();
}

function renderCart(){
    const cartContainer = document.getElementById("cartItems");
    const totalContainer = document.getElementById("total");

    cartContainer.innerHTML = "";
    let total = 0;

    cart.forEach((item, index)=>{
        const itemTotal = item.price * item.qty;
        total += itemTotal;

        cartContainer.innerHTML += `
            <div style="margin-bottom:10px;">
                <strong>${item.name}</strong><br>
                €${item.price.toFixed(2)} x ${item.qty}
                <button onclick="changeQty(${index}, -1)">−</button>
                <button onclick="changeQty(${index}, 1)">+</button>
                <button onclick="removeItem(${index})">❌</button>
                <br>
                Subtotale: €${itemTotal.toFixed(2)}
            </div>
        `;
    });

    totalContainer.innerText = total.toFixed(2);
}

function goToCheckout(){
    if(cart.length === 0){
        alert("Il carrello è vuoto.");
        return;
    }

    localStorage.setItem("aldoge_cart", JSON.stringify(cart));
    window.location.href = "checkout.html";
}
</script>
