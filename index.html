<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>AL DOGE – Pizzeria a Farla di Majano</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>

:root{
  --bg:#0b0a08;
  --panel:#151311;
  --text:#f5f0e8;
  --muted:#d4c9b0;
  --accent:#c9a96e;
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:Inter,sans-serif;
  background:var(--bg);
  color:var(--text);
}

/* HERO */

header{
  background:
  linear-gradient(to bottom, rgba(0,0,0,.5), rgba(0,0,0,.9)),
  url('hero-image.jpg') center/cover no-repeat;
  padding:140px 20px;
  text-align:center;
}

header h1{
  font-family:'Playfair Display',serif;
  font-size:4rem;
  color:var(--accent);
  letter-spacing:2px;
}

header p{
  margin-top:20px;
  font-size:1.2rem;
  color:var(--muted);
}

.cta{
  margin-top:30px;
}

.cta a{
  background:var(--accent);
  color:#000;
  padding:14px 28px;
  border-radius:30px;
  text-decoration:none;
  font-weight:600;
}

/* AI SECTION */

.ai-section{
  padding:80px 20px;
  text-align:center;
  background:#111;
}

.ai-section h2{
  font-family:'Playfair Display',serif;
  font-size:2rem;
  color:var(--accent);
  margin-bottom:20px;
}

.ai-section input{
  padding:14px;
  width:90%;
  max-width:500px;
  border-radius:8px;
  border:none;
  margin-top:20px;
}

.ai-section button{
  margin-top:15px;
  padding:12px 24px;
  border:none;
  background:var(--accent);
  color:#000;
  border-radius:25px;
  cursor:pointer;
}

#ai-result{
  margin-top:25px;
  background:#1b1917;
  padding:20px;
  border-radius:12px;
  display:none;
}

/* MENU */

.menu-section{
  padding:80px 20px;
  max-width:1200px;
  margin:auto;
}

.menu-title{
  text-align:center;
  font-family:'Playfair Display',serif;
  font-size:2.5rem;
  color:var(--accent);
  margin-bottom:40px;
}

.menu-filters{
  text-align:center;
  margin-bottom:40px;
}

.menu-filters button{
  background:none;
  border:1px solid var(--accent);
  color:var(--accent);
  padding:8px 18px;
  margin:5px;
  border-radius:20px;
  cursor:pointer;
}

.menu-filters button.active{
  background:var(--accent);
  color:#000;
}

.menu-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}

.pizza-item{
  background:var(--panel);
  padding:18px;
  border-radius:12px;
  display:flex;
  justify-content:space-between;
}

/* FOOTER */

footer{
  background:#050403;
  padding:40px;
  text-align:center;
  color:var(--muted);
  margin-top:60px;
}

@media(max-width:768px){
  header h1{font-size:2.5rem;}
}

</style>
</head>

<body>

<header>
  <h1>AL DOGE</h1>
  <p>Dove la pizza prende vita nel forno a legna</p>
  <div class="cta">
    <a href="tel:+3904321840683">Chiama per ordinare</a>
  </div>
</header>

<section class="ai-section">
  <h2>Pizza o Panino? Scrivi e ti consigliamo noi.</h2>
  <input id="ai-input" placeholder="Es: qualcosa di leggero, vegetariano...">
  <br>
  <button onclick="askAI()">Consigliami</button>

  <div id="ai-result"></div>
</section>

<section class="menu-section">

  <h2 class="menu-title">Il Nostro Menu</h2>

  <div class="menu-filters">
    <button onclick="filterMenu('tutte')" class="active">Tutte</button>
    <button onclick="filterMenu('classiche')">Classiche</button>
    <button onclick="filterMenu('verdure')">Verdure</button>
    <button onclick="filterMenu('mare')">Mare</button>
    <button onclick="filterMenu('bianche')">Bianche</button>
  </div>

  <div class="menu-grid">

    <div class="pizza-item classiche"><strong>Margherita</strong><span>€6,00</span></div>
    <div class="pizza-item classiche"><strong>Capricciosa</strong><span>€8,00</span></div>
    <div class="pizza-item classiche"><strong>4 Stagioni</strong><span>€8,50</span></div>

    <div class="pizza-item verdure"><strong>Estate</strong><span>€8,50</span></div>
    <div class="pizza-item verdure"><strong>Pugliese</strong><span>€6,50</span></div>

    <div class="pizza-item mare"><strong>Siciliana</strong><span>€8,50</span></div>
    <div class="pizza-item mare"><strong>Tonno e Cipolla</strong><span>€7,50</span></div>

    <div class="pizza-item bianche"><strong>4 Formaggi</strong><span>€8,50</span></div>
    <div class="pizza-item bianche"><strong>San Daniele</strong><span>€9,00</span></div>

  </div>

</section>

<footer>
  © 2026 AL DOGE – Via S. Daniele 3, Farla di Majano
</footer>

<script>

function filterMenu(cat){
  const items=document.querySelectorAll('.pizza-item');
  const buttons=document.querySelectorAll('.menu-filters button');

  buttons.forEach(btn=>btn.classList.remove('active'));
  event.target.classList.add('active');

  items.forEach(item=>{
    if(cat==='tutte'){
      item.style.display='flex';
    }else{
      item.style.display=item.classList.contains(cat)?'flex':'none';
    }
  });
}

async function askAI(){
  const input=document.getElementById('ai-input').value.trim();
  if(!input) return;

  const result=document.getElementById('ai-result');
  result.style.display='block';
  result.innerHTML='Sto pensando...';

  try{
    const res=await fetch('/.netlify/functions/grok',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({query:input})
    });

    const data=await res.json();

    result.innerHTML=`
      <h3>${data.nome}</h3>
      <p><strong>Ingredienti:</strong> ${data.ingredienti_da_aggiungere.join(', ')}</p>
      <p><strong>Calorie:</strong> ${data.calorie_stimate}</p>
      <p><strong>Prezzo:</strong> ${data.prezzo_stimato}</p>
      <p>${data.descrizione}</p>
      <br>
      <a href="tel:+3904321840683" style="color:var(--accent);font-weight:bold;">Chiama per ordinare</a>
    `;
  }catch(e){
    result.innerHTML='Non riusciamo a consigliarti ora.';
  }
}

</script>

</body>
</html>
