<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checkout – AL DOGE</title>

<style>
body{
  font-family:Arial;
  background:#111;
  color:white;
  margin:0;
  padding:20px;
}

.order{
  background:#1c1c1c;
  padding:15px;
  margin-bottom:10px;
  border-radius:8px;
}

button{
  background:#c59d5f;
  border:none;
  padding:10px 20px;
  cursor:pointer;
  font-weight:bold;
}
</style>
</head>

<body>

<h1>Riepilogo Ordine</h1>

<div id="orderSummary"></div>

<h2>Totale: € <span id="finalTotal">0.00</span></h2>

<h3>Dati Cliente</h3>

<input type="text" id="name" placeholder="Nome" style="width:100%;padding:10px;margin-bottom:10px;">
<input type="text" id="phone" placeholder="Telefono" style="width:100%;padding:10px;margin-bottom:10px;">

<br><br>

<button onclick="confirmOrder()">Conferma Ordine</button>

<script>

let cart = JSON.parse(localStorage.getItem("cart")) || [];
let total = 0;

function loadOrder(){
  const container = document.getElementById("orderSummary");

  cart.forEach(item=>{
    total += item.price;

    const div = document.createElement("div");
    div.className = "order";
    div.innerText = item.name + " - €" + item.price.toFixed(2);

    container.appendChild(div);
  });

  document.getElementById("finalTotal").innerText = total.toFixed(2);
}

function confirmOrder(){

  const name = document.getElementById("name").value;
  const phone = document.getElementById("phone").value;

  if(!name || !phone){
    alert("Compila tutti i campi");
    return;
  }

  alert("Ordine inviato! (Modalità Test)");

  localStorage.removeItem("cart");
  window.location.href = "index.html";
}

loadOrder();

</script>

</body>
</html>
