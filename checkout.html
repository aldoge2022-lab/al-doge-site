<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Checkout - AL DOGE</title>
<style>
body{
    background:#0f0f0f;
    color:white;
    font-family:Arial;
    padding:30px;
}
input{
    display:block;
    margin:10px 0;
    padding:8px;
    width:100%;
    max-width:300px;
}
button{
    background:#c9a227;
    border:none;
    padding:10px 20px;
    cursor:pointer;
}
</style>
</head>
<body>

<h1>Checkout</h1>

<div id="orderSummary"></div>

<h3>Totale: € <span id="total"></span></h3>

<h2>Dati Cliente</h2>

<label>Nome</label>
<input type="text" id="nome">

<label>Telefono</label>
<input type="text" id="telefono">

<label>Orario ritiro</label>
<input type="time" id="orario">

<button onclick="confirmOrder()">Conferma Ordine</button>

<script>
const cart = JSON.parse(localStorage.getItem("aldoge_cart")) || [];

let total = 0;
let summaryHTML = "";

cart.forEach(item=>{
    const sub = item.price * item.qty;
    total += sub;

    summaryHTML += `
        <div>
            ${item.name} x ${item.qty} – €${sub.toFixed(2)}
        </div>
    `;
});

document.getElementById("orderSummary").innerHTML = summaryHTML;
document.getElementById("total").innerText = total.toFixed(2);

function confirmOrder(){
    const ordine = {
        nome: document.getElementById("nome").value,
        telefono: document.getElementById("telefono").value,
        orario: document.getElementById("orario").value,
        prodotti: cart,
        totale: total
    };

    console.log("Ordine:", ordine);

    alert("Ordine creato (fase test). Prossimo step: pagamento reale.");
}
</script>

</body>
</html>
